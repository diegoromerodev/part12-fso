{"version":3,"sources":["Filter.js","Notification.js","services/persons.js","PersonForm.js","PersonItem.js","Persons.js","App.js","index.js"],"names":["setFilter","filter","onChange","e","target","value","notification","message","className","type","baseURL","axios","get","then","res","data","personObj","post","put","id","personId","delete","props","persons","setPersons","setNotification","useState","newName","setNewName","newNumber","setNewNumber","handleError","name","p","setTimeout","onSubmit","preventDefault","dupe","tester","RegExp","find","person","test","checkDuplicate","confirm","number","personsServices","map","catch","personData","concat","handleDelete","style","border","padding","margin","marginRight","backgroundColor","color","onClick","reduce","personsResult","includes","push","PersonItem","window","App","useEffect","Notification","Filter","PersonForm","Persons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2947cc23.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default ({ setFilter, filter }) => {\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value);\n  };\n  return (\n    <div>\n      filter: <input onChange={handleFilterChange} value={filter} />\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport default ({ notification }) => {\n  if (!notification.message) return null;\n  return (\n    <div className={notification.type}>\n      <p>{notification.message}</p>\n    </div>\n  );\n};\n","import axios from \"axios\";\n\nconst baseURL = \"/api/persons/\";\n\nconst getAll = () => {\n  return axios.get(baseURL).then((res) => res.data);\n};\n\nconst saveOne = (personObj) => {\n  return axios.post(baseURL, personObj).then((res) => res.data);\n};\n\nconst updateOne = (personObj) => {\n  return axios.put(baseURL + personObj.id, personObj).then((res) => res.data);\n};\n\nconst deleteOne = (personId) => {\n  return axios.delete(baseURL + personId);\n};\n\nexport default { getAll, saveOne, updateOne, deleteOne };\n","import React, { useState } from \"react\";\nimport personsServices from \"./services/persons\";\n\nexport default (props) => {\n  const { persons, setPersons, setNotification } = props;\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n  const checkDuplicate = (value) => {\n    const tester = new RegExp(value, \"i\");\n    return persons.find((person) => tester.test(person.name));\n  };\n\n  const handleError = (name) => {\n    setNotification({\n      message: `${name}'s info had already been deleted.`,\n      type: \"warning\",\n    });\n    setPersons(persons.filter((p) => p.name !== name));\n    setTimeout(() => setNotification({}), 3000);\n  };\n\n  const addName = (e) => {\n    e.preventDefault();\n    if (!newName || !newNumber) return;\n    const dupe = checkDuplicate(newName);\n    if (dupe) {\n      if (\n        !confirm(\n          `${newName} is already present in the phonebook, do you want to update the number?`\n        )\n      ) {\n        return false;\n      }\n      dupe.number = newNumber;\n      setNewName(\"\");\n      setNewNumber(\"\");\n      personsServices\n        .updateOne(dupe)\n        .then(() => {\n          setPersons(persons.map((p) => (p.id === dupe.id ? dupe : p)));\n          setNotification({\n            message: `Successfully updated ${dupe.name}'s number.`,\n            type: \"success\",\n          });\n          setTimeout(() => setNotification({}), 3000);\n        })\n        .catch(() => {\n          handleError(dupe.name);\n        });\n      return true;\n    }\n\n    const personObj = {\n      name: newName,\n      number: newNumber,\n    };\n\n    personsServices\n      .saveOne(personObj)\n      .then((personData) => {\n        setPersons(persons.concat(personData));\n        setNotification({\n          message: `Successfully added ${personObj.name}'s number.`,\n          type: \"success\",\n        });\n        setTimeout(() => setNotification({}), 3000);\n      })\n      .catch(() => {\n        handleError(personObj.name);\n      });\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input onChange={handleNameChange} value={newName} />\n      </div>\n      <div>\n        number: <input onChange={handleNumberChange} value={newNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n","import React from \"react\";\n\nexport default (props) => {\n  const { person, handleDelete } = props;\n\n  return (\n    <div\n      style={{\n        border: \"2px solid #333\",\n        padding: \"10px\",\n        margin: \"10px\",\n        marginRight: \"50%\",\n      }}\n    >\n      <p>\n        {person.name} - {person.number}\n      </p>\n      <button\n        type=\"button\"\n        style={{ backgroundColor: \"lightcoral\", color: \"#fafafa\" }}\n        onClick={handleDelete}\n      >\n        delete?\n      </button>\n    </div>\n  );\n};\n","import React from \"react\";\nimport PersonItem from \"./PersonItem\";\nimport personsServices from \"./services/persons\";\n\nexport default ({ persons, filter, setPersons }) => {\n  const handleDelete = ({ id, name }) => {\n    if (!window.confirm(`Delete ${name}?`)) {\n      return false;\n    }\n    personsServices.deleteOne(id).then(() => {\n      setPersons(persons.filter((p) => p.id !== id));\n    });\n  };\n  return (\n    <>\n      {persons.reduce((personsResult, person) => {\n        if (filter && !person.name.includes(filter)) return personsResult;\n        personsResult.push(\n          <PersonItem\n            key={person.id}\n            handleDelete={() => handleDelete(person)}\n            person={person}\n          />\n        );\n        return personsResult;\n      }, [])}\n    </>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./Filter\";\nimport Notification from \"./Notification\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport personsServices from \"./services/persons\";\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState({});\n\n  useEffect(() => {\n    personsServices.getAll().then(setPersons);\n  }, []);\n\n  return (\n    <div>\n      <Notification notification={notification} />\n      <h2>Phonebook</h2>\n      <Filter filter={filter} setFilter={setFilter} />\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        setNotification={setNotification}\n      />\n      <h2>Numbers</h2>\n      <Persons filter={filter} persons={persons} setPersons={setPersons} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}